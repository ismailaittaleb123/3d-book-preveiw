<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¹Ø±Ø¶ ÙƒØªØ§Ø¨ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ | 3D Book Preview</title>
  <meta name="description" content="Ø¹Ø±Ø¶ ÙƒØªØ§Ø¨ ØªÙØ§Ø¹Ù„ÙŠ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Three.js">
  <style>
    body { 
      margin: 0; 
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      overflow: hidden; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    canvas { 
      display: block; 
    }
    .loading {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 18px;
      z-index: 1000;
    }
    .instructions {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      background: rgba(0,0,0,0.7);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 14px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="loading" id="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ§Ø¨...</div>
  <div class="instructions">ğŸ’¡ Ø§Ø³Ø­Ø¨ ÙˆØ³Ø­Ø¨ Ù„Ù„ØªØ¯ÙˆÙŠØ± â€¢ ğŸ” Ø­Ø±Ùƒ Ø§Ù„Ø¹Ø¬Ù„Ø© Ù„Ù„ØªÙƒØ¨ÙŠØ± ÙˆØ§Ù„ØªØµØºÙŠØ±</div>

  <!-- Ù…ÙƒØªØ¨Ø© THREE.js -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
  <!-- Ù…ÙƒØªØ¨Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù…Ø§ÙˆØ³ -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/examples/js/controls/OrbitControls.js"></script>

  <script>
    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
    function hideLoading() {
      document.getElementById('loading').style.display = 'none';
    }

    // Ø§Ù„Ù…Ø´Ù‡Ø¯ ÙˆØ§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ø¹Ø±Ø¶
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ 
      antialias: true,
      alpha: true 
    });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 0);
    document.body.appendChild(renderer.domElement);

    // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù…Ø§ÙˆØ³
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    controls.minDistance = 2;
    controls.maxDistance = 6;

    // Ø¥Ø¶Ø§Ø¡Ø©
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambientLight);
    
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(5, 10, 7);
    scene.add(directionalLight);

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØºÙ„Ø§Ù
    const loader = new THREE.TextureLoader();
    
    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
    const cover = loader.load(
      'cover.jpg',
      // Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø§Ø¬Ø­
      function(texture) {
        console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØºÙ„Ø§Ù Ø¨Ù†Ø¬Ø§Ø­');
        hideLoading();
      },
      // Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      function(xhr) {
        console.log((xhr.loaded / xhr.total * 100) + '% loaded');
      },
      // Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
      function(error) {
        console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©:', error);
        hideLoading();
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ÙˆÙ† Ø¨Ø¯ÙŠÙ„ Ø¥Ø°Ø§ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
        alert('âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (cover.jpg). ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯.');
      }
    );

    // Ø§Ù„Ù…ÙˆØ§Ø¯
    const sideMat = new THREE.MeshPhongMaterial({ 
      color: 0x2c3e50,
      shininess: 30
    });
    
    const spineMat = new THREE.MeshPhongMaterial({ 
      color: 0x34495e,
      shininess: 50
    });

    const book = new THREE.Mesh(
      new THREE.BoxGeometry(1, 1.5, 0.2),
      [
        spineMat,    // Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£ÙŠÙ…Ù† (Ø§Ù„Ø¸Ù‡Ø±)
        spineMat,    // Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø£ÙŠØ³Ø± (Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©)
        sideMat,     // Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø¹Ù„ÙˆÙŠ
        sideMat,     // Ø§Ù„ÙˆØ¬Ù‡ Ø§Ù„Ø³ÙÙ„ÙŠ
        new THREE.MeshPhongMaterial({ 
          map: cover,
          shininess: 10
        }), // Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø£Ù…Ø§Ù…ÙŠ
        sideMat      // Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ø®Ù„ÙÙŠ
      ]
    );

    scene.add(book);
    camera.position.z = 3;

    // Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
    function animate() {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    }

    animate();

    // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø­Ø¬Ù… Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ù†Ø§ÙØ°Ø©
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ ÙˆÙ‚Øª Ù‚ØµÙŠØ± ØªØ­Ø³Ø¨Ø§Ù‹
    setTimeout(hideLoading, 3000);
  </script>
</body>
</html>